---
title: 版本号比对
date: 2023-06-02 09:58
categories:
- golang
tags:
- go
---
  
  
摘要: desc
<!-- more -->


比较两个版本号

如果 version1 > version2 返回1 , 如果 version1 > version2 返回-1 , 除此之外返回0

版本号只能是非空的字符串,并且只包含数字和.字符

.字符不代表小数点，而是用于分割数字序列

版本号规则，默认每一级的版本号为0，版本号分为 第一级(大版本) , 第二级(小版本),第三级和第四级没有填写，默认为0 
例如： 3.4  第一级(大版本)为 3 , 第二级(小版本)为 4 , 第三级和第四级没有填写默认为0

### 示例 1

比较  version1 = "0.1" , version2 = "1.1"
返回 -1

### 示例 2

比较  version1 = "1.0.1" , version2 = "1"
返回 1

### 示例 3

比较  version1 = "7.5.2.4" , version2 = "7.5.3"
返回 -1

### 示例 4

比较  version1 = "1.01" , version2 = "1.001"
返回 0
忽略前导零，"01"和"001"表示的是相同的数字1

### 示例 5

比较  version1 = "1.0" , version2 = "1.0.0"
返回 0
version1 没有第三级修订号，意味着第三级修订号默认为0


> 来源：力扣（LeetCode）
  链接：https://leetcode-cn.com/problems/compare-version-numbers

```golang
package main
import (
  "fmt"
  "strconv"
  "strings"
)

func main() {
  version1 := "0.1"
  version2 := "1.1"
  fmt.Println(compareVersion(version1, version2))
}

func compareVersion(version1 string, version2 string) int {
  var res int
  ver1Strs := strings.Split(version1, ".")
  ver2Strs := strings.Split(version2, ".")
  ver1Len := len(ver1Strs)
  ver2Len := len(ver2Strs)
  verLen := ver1Len
  if len(ver1Strs) < len(ver2Strs) {
    verLen = ver2Len
  }
  for i := 0; i < verLen; i++ {
    var ver1Int, ver2Int int
    if i < ver1Len {
      ver1Int, _ = strconv.Atoi(ver1Strs[i])
    }
    if i < ver2Len {
      ver2Int, _ = strconv.Atoi(ver2Strs[i])
    }
    if ver1Int < ver2Int {
      res = -1
      break
    }
    if ver1Int > ver2Int {
      res = 1
      break
    }
  }
  return res
}
```