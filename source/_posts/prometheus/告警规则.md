---
title: 定义告警等级
date: 2021-09-01 10:38
categories:
- prometheus
tags:
- prometheus
---
	
	
摘要: prometheus 定义告警等级
<!-- more -->


在 rules.yml文件中，severity直接写在labels中，有五种等级，分别为 info、warning、critical、emergency、disaster。严重等级依次递增。

等级分为 五级

| 中文 | 英文 | 等级 |
|---|---|---|
| 信息 | info | 0 |
| 警告 | warning | 1 |
| 严重 | critical | 2|
| 紧急 | emergency | 3 |
| 灾难 | disaster | 4 |


例子:
```
groups:
- name: PromRules
  rules:
  - alert: Node-Load
    annotations: {
			description: 'descTest',
			summary: 'summaryTest'
		}
		expr: node_load1 > 0.01
		for: 30s
		labels: {
			resType: 'Node',
			severity: 'warning',
			level: 1
		}

  - alert: Node-Load
    annotations: {
			description: 'descTest',
      summary: 'summaryTest'
		}
    expr: node_load1 > 0.5
    for: 30s
    labels: {
			resType: 'Node',
			severity: 'critical',
			level: 2
		}

```
